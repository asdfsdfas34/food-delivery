# CNA Azure 1차수 (5조_든든한 아침식사)

# 서비스 시나리오

## 든든한 아침식사

기능적 요구사항

1. 고객이 회원가입을 하고 정보 수정 및 탈퇴를 한다
1. 매니져가 음식을 카탈로그에 등록하고 재고등 정보 수정 및 삭제를 한다.
1. 카탈로그에 등록된 음식정보는 별도의 카탈로그 조회 (프론트엔드) 에서 확인할수 있어야 한다. 
1. 고객이 음식을 주문하고, 주문을 생성할때는 고객정보와 음식 카탈로그 정보가 있어야 한다.
    1. Order -> Customer 동기호출
    1. Order -> FoodCatalog 동기호출
1. 고객이 결제를 한다.
1. 결제가 완료되면 주문 내역이 배송팀에게 전달된다.
1. 배송팀이 주문 확인 후 배송 처리한다.
1. 배송이 완료되면 상태가 업데이트 된다.
1. 고객이 주문을 취소할 수 있다.
1. 고객이 주문을 취소하면 배송팀 확인후 배송이 취소된다.
1. 배송이 취소되면 결제도 취소된다.
1. 고객이 주문하거나 취소를 하면 음식 Catalog 의 재고수량에 반영이 되어야 한다.

비기능적 요구사항

1. 트랜잭션
    1. 결제가 되지 않은 주문건은 아예 거래가 성립되지 않아야 한다  Sync 호출
    1. 배송이 완료된 주문은 취소할수 없다. Sync 호출
1. 장애격리
    1. 결제시스템이 과중되면 사용자를 잠시동안 받지 않고 결제를 잠시후에 하도록 유도한다  Circuit breaker, fallback
1. 성능
    1. 고객은 자신이 주문한 내용과 배달상태를 나의 주문정보(프론트엔드)에서 확인할 수 있어야 한다  CQRS


# Event Storming 모델
 ![image](https://user-images.githubusercontent.com/62786155/102586711-fd20bb00-414d-11eb-96ed-a0f82c44571c.PNG)


